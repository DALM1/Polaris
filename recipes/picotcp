name=picotcp
version=e6b8fa855154867ecddcf6b6862fed95d7003b65
revision=1
tarball_url="https://github.com/virtualsquare/picotcp/archive/${version}.tar.gz"
tarball_blake2b="a32bcc005957edd629b866c8a9bd2f9f811ca4930a158668c95d3fe07b6e76b49d64a75dbda6f0c626d583ad7f54def44f20de283de531e2ce37e0049cf3dfe4"
hostdeps="gcc autoconf automake libtool pkg-config"
deps="core-libs kernel"

build() {
    cp -rp "${source_dir}"/. ./
    make PLATFORM_CFLAGS="-ffreestanding -I../kernel/include -I../kernel/arch/x86_64-pc/include -I../kernel/arch/x86_64-pc/fw/lai/include" CROSS_COMPILE=${OS_TRIPLET}- -j${parallelism}
}

package() {
    true
}
